"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[647],{8755:(e,s,n)=>{n.r(s),n.d(s,{default:()=>x});var t=n(6540),r=n(1656);const i={container:"container_zucA",calculator:"calculator_W0Su",display:"display_bTQf",expression:"expression_VItg",result:"result_nwVG",buttons:"buttons_FGCe",btn:"btn_tEvM",btnOperator:"btnOperator_wKM6",btnFunction:"btnFunction_v74o",btnEquals:"btnEquals_KMQ6",rowSpan2:"rowSpan2_aGKT",colSpan2:"colSpan2_GRh9",history:"history_D8Tg",historyHeader:"historyHeader_zlN8",btnClear:"btnClear_vAk5",historyList:"historyList_3Plc",emptyMessage:"emptyMessage_EsWY",historyItem:"historyItem_gMlu",historyExpression:"historyExpression_ks_s",historyResult:"historyResult_XqjS"};var l=n(4848);function o(){const[e,s]=(0,t.useState)("0"),[n,r]=(0,t.useState)(""),[o,a]=(0,t.useState)([]),c=t=>{"0"===e||"Error"===e?(s(t),r(t)):(s(e+t),r(n+t))},d=t=>{"Error"!==e&&(s(e+" "+t+" "),r(n+t))},h=()=>{s("0"),r("")};return(0,l.jsxs)("div",{className:i.container,children:[(0,l.jsxs)("div",{className:i.calculator,children:[(0,l.jsxs)("div",{className:i.display,children:[(0,l.jsx)("div",{className:i.expression,children:n||"0"}),(0,l.jsx)("div",{className:i.result,children:e})]}),(0,l.jsxs)("div",{className:i.buttons,children:[(0,l.jsx)("button",{onClick:h,className:`${i.btn} ${i.btnFunction}`,children:"C"}),(0,l.jsx)("button",{onClick:()=>{e.length>1&&"Error"!==e?(s(e.slice(0,-1)),r(n.slice(0,-1))):h()},className:`${i.btn} ${i.btnFunction}`,children:"\u2190"}),(0,l.jsx)("button",{onClick:()=>d("\xf7"),className:`${i.btn} ${i.btnOperator}`,children:"\xf7"}),(0,l.jsx)("button",{onClick:()=>d("\xd7"),className:`${i.btn} ${i.btnOperator}`,children:"\xd7"}),(0,l.jsx)("button",{onClick:()=>c("7"),className:i.btn,children:"7"}),(0,l.jsx)("button",{onClick:()=>c("8"),className:i.btn,children:"8"}),(0,l.jsx)("button",{onClick:()=>c("9"),className:i.btn,children:"9"}),(0,l.jsx)("button",{onClick:()=>d("-"),className:`${i.btn} ${i.btnOperator}`,children:"-"}),(0,l.jsx)("button",{onClick:()=>c("4"),className:i.btn,children:"4"}),(0,l.jsx)("button",{onClick:()=>c("5"),className:i.btn,children:"5"}),(0,l.jsx)("button",{onClick:()=>c("6"),className:i.btn,children:"6"}),(0,l.jsx)("button",{onClick:()=>d("+"),className:`${i.btn} ${i.btnOperator}`,children:"+"}),(0,l.jsx)("button",{onClick:()=>c("1"),className:i.btn,children:"1"}),(0,l.jsx)("button",{onClick:()=>c("2"),className:i.btn,children:"2"}),(0,l.jsx)("button",{onClick:()=>c("3"),className:i.btn,children:"3"}),(0,l.jsx)("button",{onClick:()=>{if(n&&"Error"!==e){const t=(e=>{try{const s=e.replace(/\xd7/g,"*").replace(/\xf7/g,"/"),n=Function(`'use strict'; return (${s})`)();return Number(n.toFixed(10)).toString()}catch{return"Error"}})(n);a([{expression:e,result:t},...o.slice(0,9)]),s(t),r(t)}},className:`${i.btn} ${i.btnEquals} ${i.rowSpan2}`,children:"="}),(0,l.jsx)("button",{onClick:()=>c("0"),className:`${i.btn} ${i.colSpan2}`,children:"0"}),(0,l.jsx)("button",{onClick:()=>{if("Error"===e)return;const t=e.split(/[\+\-\xd7\xf7]/);t[t.length-1].includes(".")||(s(e+"."),r(n+"."))},className:i.btn,children:"."})]})]}),(0,l.jsxs)("div",{className:i.history,children:[(0,l.jsxs)("div",{className:i.historyHeader,children:[(0,l.jsx)("h3",{children:"\u8a08\u7b97\u6b77\u53f2"}),o.length>0&&(0,l.jsx)("button",{onClick:()=>{a([])},className:i.btnClear,children:"\u6e05\u9664"})]}),(0,l.jsx)("div",{className:i.historyList,children:0===o.length?(0,l.jsx)("p",{className:i.emptyMessage,children:"\u5c1a\u7121\u8a08\u7b97\u8a18\u9304"}):o.map((e,s)=>(0,l.jsxs)("div",{className:i.historyItem,children:[(0,l.jsx)("span",{className:i.historyExpression,children:e.expression}),(0,l.jsxs)("span",{className:i.historyResult,children:["= ",e.result]})]},s))})]})]})}const a={loginContainer:"loginContainer_ppt9",loginCard:"loginCard_lsMT",formGroup:"formGroup_PwbR",formGroupCheckbox:"formGroupCheckbox_pxiC",errorMessage:"errorMessage_nThU",btnPrimary:"btnPrimary_FT1B",toggleMode:"toggleMode_ROc2",btnLink:"btnLink_JKjt"};function c({onLogin:e,onRegister:s}){const[n,r]=(0,t.useState)(!0),[i,o]=(0,t.useState)(""),[c,d]=(0,t.useState)(""),[h,x]=(0,t.useState)(""),[u,m]=(0,t.useState)(!1),[j,p]=(0,t.useState)(""),[b,g]=(0,t.useState)(!1);return(0,l.jsx)("div",{className:a.loginContainer,children:(0,l.jsxs)("div",{className:a.loginCard,children:[(0,l.jsx)("h2",{children:n?"\u767b\u5165":"\u8a3b\u518a"}),(0,l.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),p(""),g(!0);try{if(n)await e(i,c,u);else{if(!h)return p("\u8acb\u8f38\u5165\u59d3\u540d"),void g(!1);await s(i,c,h)}}catch(r){p(r.message||"\u64cd\u4f5c\u5931\u6557\uff0c\u8acb\u91cd\u8a66")}finally{g(!1)}},children:[!n&&(0,l.jsxs)("div",{className:a.formGroup,children:[(0,l.jsx)("label",{children:"\u59d3\u540d"}),(0,l.jsx)("input",{type:"text",value:h,onChange:e=>x(e.target.value),required:!n,placeholder:"\u8acb\u8f38\u5165\u59d3\u540d"})]}),(0,l.jsxs)("div",{className:a.formGroup,children:[(0,l.jsx)("label",{children:"Email"}),(0,l.jsx)("input",{type:"email",value:i,onChange:e=>o(e.target.value),required:!0,placeholder:"\u8acb\u8f38\u5165 email"})]}),(0,l.jsxs)("div",{className:a.formGroup,children:[(0,l.jsx)("label",{children:"\u5bc6\u78bc"}),(0,l.jsx)("input",{type:"password",value:c,onChange:e=>d(e.target.value),required:!0,minLength:8,placeholder:"\u81f3\u5c11 8 \u500b\u5b57\u5143"})]}),n&&(0,l.jsx)("div",{className:a.formGroupCheckbox,children:(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"checkbox",checked:u,onChange:e=>m(e.target.checked)}),"\u8a18\u4f4f\u6211\uff087 \u5929\uff09"]})}),j&&(0,l.jsx)("div",{className:a.errorMessage,children:j}),(0,l.jsx)("button",{type:"submit",disabled:b,className:a.btnPrimary,children:b?"\u8655\u7406\u4e2d...":n?"\u767b\u5165":"\u8a3b\u518a"})]}),(0,l.jsxs)("div",{className:a.toggleMode,children:[n?"\u9084\u6c92\u6709\u5e33\u865f\uff1f":"\u5df2\u7d93\u6709\u5e33\u865f\uff1f",(0,l.jsx)("button",{onClick:()=>r(!n),className:a.btnLink,children:n?"\u8a3b\u518a":"\u767b\u5165"})]})]})})}const d=JSON.parse('{"Hs":{"P8":"/api"},"FK":{"ju":"https://kiro-sdd-sample-api.onrender.com"}}'),h=d.FK.ju+d.Hs.P8;function x(){const[e,s]=(0,t.useState)(!1),[n,i]=(0,t.useState)(null),[a,d]=(0,t.useState)(!0);(0,t.useEffect)(()=>{x()},[]);const x=async()=>{const e=localStorage.getItem("demo_token");if(e)try{const n=await fetch(`${h}/auth/me`,{headers:{Authorization:`Bearer ${e}`}});if(n.ok){const e=await n.json();i(e),s(!0)}else localStorage.removeItem("demo_token")}catch(n){console.error("Auth check failed:",n)}d(!1)};return a?(0,l.jsx)(r.A,{title:"\u4e92\u52d5\u5f0f Demo",description:"\u9ad4\u9a57\u767b\u5165\u8a08\u7b97\u6a5f\u529f\u80fd",children:(0,l.jsx)("div",{style:{padding:"4rem 0",textAlign:"center"},children:(0,l.jsx)("p",{children:"\u8f09\u5165\u4e2d..."})})}):(0,l.jsx)(r.A,{title:"\u4e92\u52d5\u5f0f Demo",description:"\u9ad4\u9a57\u767b\u5165\u8a08\u7b97\u6a5f\u529f\u80fd",children:(0,l.jsx)("div",{style:{padding:"2rem 0"},children:(0,l.jsxs)("div",{className:"container",children:[(0,l.jsx)("h1",{style:{textAlign:"center",marginBottom:"1rem"},children:"\u767b\u5165\u8a08\u7b97\u6a5f Demo"}),(0,l.jsx)("p",{style:{textAlign:"center",color:"#666",marginBottom:"2rem"},children:e?`\u6b61\u8fce\u56de\u4f86\uff0c${n?.name}\uff01`:"\u8acb\u5148\u767b\u5165\u6216\u8a3b\u518a\u4ee5\u4f7f\u7528\u8a08\u7b97\u6a5f"}),e?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{style:{textAlign:"center",marginBottom:"1rem"},children:(0,l.jsx)("button",{onClick:()=>{localStorage.removeItem("demo_token"),i(null),s(!1)},style:{padding:"0.5rem 1.5rem",background:"#e74c3c",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"1rem"},children:"\u767b\u51fa"})}),(0,l.jsx)(o,{})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c,{onLogin:async(e,n,t)=>{const r=await fetch(`${h}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:n,rememberMe:t})});if(!r.ok){const e=await r.json();throw new Error(e.error||"\u767b\u5165\u5931\u6557")}const l=await r.json();localStorage.setItem("demo_token",l.token),i(l.user),s(!0)},onRegister:async(e,n,t)=>{const r=await fetch(`${h}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:n,name:t})});if(!r.ok){const e=await r.json();throw new Error(e.error||"\u8a3b\u518a\u5931\u6557")}const l=await r.json();localStorage.setItem("demo_token",l.token),i(l.user),s(!0)}}),(0,l.jsxs)("div",{style:{maxWidth:"600px",margin:"2rem auto",padding:"1rem",background:"#f0f8ff",borderRadius:"8px"},children:[(0,l.jsx)("h3",{style:{marginTop:0},children:"\ud83d\udca1 \u63d0\u793a"}),(0,l.jsx)("p",{children:"\u9019\u662f\u4e00\u500b\u5b8c\u6574\u7684\u767b\u5165\u8a08\u7b97\u6a5f\u7bc4\u4f8b\uff0c\u5305\u542b\uff1a"}),(0,l.jsxs)("ul",{children:[(0,l.jsx)("li",{children:"\u7528\u6236\u8a3b\u518a\u548c\u767b\u5165\uff08JWT \u8a8d\u8b49\uff09"}),(0,l.jsx)("li",{children:"\u8a08\u7b97\u6a5f\u529f\u80fd"}),(0,l.jsx)("li",{children:"\u8a08\u7b97\u6b77\u53f2\u8a18\u9304\uff08\u4fdd\u5b58\u5230\u5f8c\u7aef\uff09"})]}),(0,l.jsxs)("p",{style:{marginBottom:0},children:[(0,l.jsx)("strong",{children:"\u6ce8\u610f\uff1a"}),"\u9700\u8981\u5148\u555f\u52d5\u5f8c\u7aef API\uff08",(0,l.jsx)("code",{children:"cd backend && npm run dev"}),"\uff09"]})]})]}),(0,l.jsxs)("div",{style:{maxWidth:"800px",margin:"3rem auto",padding:"0 1rem"},children:[(0,l.jsx)("h2",{children:"\u95dc\u65bc\u9019\u500b Demo"}),(0,l.jsx)("p",{children:"\u9019\u500b\u767b\u5165\u8a08\u7b97\u6a5f\u5c55\u793a\u4e86\u5b8c\u6574\u7684\u898f\u683c\u9a45\u52d5\u958b\u767c\u6d41\u7a0b\uff1a"}),(0,l.jsxs)("ol",{children:[(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"\u5b9a\u7fa9\u898f\u683c"}),"\uff1a\u5728 ",(0,l.jsx)("code",{children:"docs/spec.md"})," \u5b9a\u7fa9\u529f\u80fd\u9700\u6c42"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"\u751f\u6210\u8a08\u756b"}),"\uff1aKiro \u81ea\u52d5\u62c6\u89e3\u6210\u958b\u767c\u4efb\u52d9"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"\u5be6\u4f5c\u529f\u80fd"}),"\uff1a\u524d\u5f8c\u7aef + \u6e2c\u8a66\u4e00\u8d77\u958b\u767c"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"\u6e2c\u8a66\u9a57\u8b49"}),"\uff1a\u78ba\u4fdd\u7b26\u5408\u898f\u683c\u8981\u6c42"]})]}),(0,l.jsx)("h3",{children:"\u6280\u8853\u68e7"}),(0,l.jsxs)("ul",{children:[(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"\u5f8c\u7aef"}),"\uff1aExpress + TypeScript + JWT"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"\u524d\u7aef"}),"\uff1aReact + TypeScript"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"\u6e2c\u8a66"}),"\uff1aJest + Supertest\uff08\u8986\u84cb\u7387 > 80%\uff09"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"\u8cc7\u6599\u5eab"}),"\uff1a\u8a18\u61b6\u9ad4\u8cc7\u6599\u5eab\uff08\u793a\u7bc4\u7528\uff09"]})]}),(0,l.jsx)("h3",{children:"\u5b8c\u6574\u5c08\u6848"}),(0,l.jsxs)("p",{children:["\u60f3\u8981\u770b\u5b8c\u6574\u7684\u539f\u59cb\u78bc\u548c\u6559\u5b78\uff1f \u67e5\u770b ",(0,l.jsx)("a",{href:"/docs/examples/login-calculator-tutorial",children:"\u5b8c\u6574\u6559\u5b78\u6587\u4ef6"}),"\u3002"]})]})]})})})}}}]);