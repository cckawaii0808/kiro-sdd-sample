"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[359],{8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>c});var d=s(6540);const l={},i=d.createContext(l);function r(e){const n=d.useContext(i);return d.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),d.createElement(i.Provider,{value:n},e.children)}},9477:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>o,frontMatter:()=>r,metadata:()=>d,toc:()=>h});const d=JSON.parse('{"id":"examples/api-spec-example","title":"API \u898f\u683c\u7bc4\u4f8b","description":"\u5b78\u7fd2\u5982\u4f55\u64b0\u5beb\u6e05\u6670\u3001\u5b8c\u6574\u7684 API \u898f\u683c\u6587\u4ef6\u3002","source":"@site/docs/examples/api-spec-example.md","sourceDirName":"examples","slug":"/examples/api-spec-example","permalink":"/kiro-sdd-sample/docs/examples/api-spec-example","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Agent \u914d\u7f6e\u7bc4\u4f8b","permalink":"/kiro-sdd-sample/docs/examples/agent-config"},"next":{"title":"\u547d\u4ee4\u53c3\u8003","permalink":"/kiro-sdd-sample/docs/commands"}}');var l=s(4848),i=s(8453);const r={},c="API \u898f\u683c\u7bc4\u4f8b",a={},h=[{value:"\u70ba\u4ec0\u9ebc\u9700\u8981 API \u898f\u683c\uff1f",id:"\u70ba\u4ec0\u9ebc\u9700\u8981-api-\u898f\u683c",level:2},{value:"\u898f\u683c\u6587\u4ef6\u7bc4\u672c",id:"\u898f\u683c\u6587\u4ef6\u7bc4\u672c",level:2},{value:"\u7528\u6236\u8a3b\u518a API",id:"\u7528\u6236\u8a3b\u518a-api",level:2},{value:"\u7aef\u9ede",id:"\u7aef\u9ede",level:3},{value:"\u8acb\u6c42\u6a19\u982d",id:"\u8acb\u6c42\u6a19\u982d",level:3},{value:"\u8acb\u6c42\u4e3b\u9ad4",id:"\u8acb\u6c42\u4e3b\u9ad4",level:3},{value:"\u9a57\u8b49\u898f\u5247",id:"\u9a57\u8b49\u898f\u5247",level:3},{value:"\u6210\u529f\u56de\u61c9 (201 Created)",id:"\u6210\u529f\u56de\u61c9-201-created",level:3},{value:"\u932f\u8aa4\u56de\u61c9",id:"\u932f\u8aa4\u56de\u61c9",level:3},{value:"400 Bad Request - \u9a57\u8b49\u5931\u6557",id:"400-bad-request---\u9a57\u8b49\u5931\u6557",level:4},{value:"409 Conflict - \u7528\u6236\u5df2\u5b58\u5728",id:"409-conflict---\u7528\u6236\u5df2\u5b58\u5728",level:4},{value:"\u7528\u6236\u767b\u5165 API",id:"\u7528\u6236\u767b\u5165-api",level:2},{value:"\u7aef\u9ede",id:"\u7aef\u9ede-1",level:3},{value:"\u8acb\u6c42\u4e3b\u9ad4",id:"\u8acb\u6c42\u4e3b\u9ad4-1",level:3},{value:"\u6210\u529f\u56de\u61c9 (200 OK)",id:"\u6210\u529f\u56de\u61c9-200-ok",level:3},{value:"\u932f\u8aa4\u56de\u61c9",id:"\u932f\u8aa4\u56de\u61c9-1",level:3},{value:"401 Unauthorized - \u8a8d\u8b49\u5931\u6557",id:"401-unauthorized---\u8a8d\u8b49\u5931\u6557",level:4},{value:"\u53d6\u5f97\u7528\u6236\u8cc7\u8a0a API",id:"\u53d6\u5f97\u7528\u6236\u8cc7\u8a0a-api",level:2},{value:"\u7aef\u9ede",id:"\u7aef\u9ede-2",level:3},{value:"\u8acb\u6c42\u6a19\u982d",id:"\u8acb\u6c42\u6a19\u982d-1",level:3},{value:"\u6210\u529f\u56de\u61c9 (200 OK)",id:"\u6210\u529f\u56de\u61c9-200-ok-1",level:3},{value:"\u932f\u8aa4\u56de\u61c9",id:"\u932f\u8aa4\u56de\u61c9-2",level:3},{value:"401 Unauthorized - Token \u7121\u6548",id:"401-unauthorized---token-\u7121\u6548",level:4},{value:"404 Not Found - \u7528\u6236\u4e0d\u5b58\u5728",id:"404-not-found---\u7528\u6236\u4e0d\u5b58\u5728",level:4},{value:"\u932f\u8aa4\u78bc\u5c0d\u7167\u8868",id:"\u932f\u8aa4\u78bc\u5c0d\u7167\u8868",level:2}];function t(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"api-\u898f\u683c\u7bc4\u4f8b",children:"API \u898f\u683c\u7bc4\u4f8b"})}),"\n",(0,l.jsx)(n.p,{children:"\u5b78\u7fd2\u5982\u4f55\u64b0\u5beb\u6e05\u6670\u3001\u5b8c\u6574\u7684 API \u898f\u683c\u6587\u4ef6\u3002"}),"\n",(0,l.jsx)(n.h2,{id:"\u70ba\u4ec0\u9ebc\u9700\u8981-api-\u898f\u683c",children:"\u70ba\u4ec0\u9ebc\u9700\u8981 API \u898f\u683c\uff1f"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u2705 \u524d\u5f8c\u7aef\u958b\u767c\u8005\u6709\u5171\u540c\u7684\u53c3\u8003"}),"\n",(0,l.jsx)(n.li,{children:"\u2705 \u6e1b\u5c11\u6e9d\u901a\u6210\u672c\u548c\u8aa4\u89e3"}),"\n",(0,l.jsx)(n.li,{children:"\u2705 \u53ef\u4ee5\u76f4\u63a5\u8f49\u63db\u70ba\u6e2c\u8a66\u6848\u4f8b"}),"\n",(0,l.jsx)(n.li,{children:"\u2705 \u81ea\u52d5\u751f\u6210 API \u6587\u4ef6"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"\u898f\u683c\u6587\u4ef6\u7bc4\u672c",children:"\u898f\u683c\u6587\u4ef6\u7bc4\u672c"}),"\n",(0,l.jsx)(n.p,{children:"\u4ee5\u4e0b\u662f\u5b8c\u6574\u7684 API \u898f\u683c\u7bc4\u4f8b\uff0c\u5c55\u793a\u5982\u4f55\u5b9a\u7fa9\u7aef\u9ede\u3001\u8acb\u6c42\u3001\u56de\u61c9\u548c\u932f\u8aa4\u8655\u7406\u3002"}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"\u7528\u6236\u8a3b\u518a-api",children:"\u7528\u6236\u8a3b\u518a API"}),"\n",(0,l.jsx)(n.h3,{id:"\u7aef\u9ede",children:"\u7aef\u9ede"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"POST /api/users/register\n"})}),"\n",(0,l.jsx)(n.h3,{id:"\u8acb\u6c42\u6a19\u982d",children:"\u8acb\u6c42\u6a19\u982d"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"Content-Type: application/json\n"})}),"\n",(0,l.jsx)(n.h3,{id:"\u8acb\u6c42\u4e3b\u9ad4",children:"\u8acb\u6c42\u4e3b\u9ad4"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "username": "john_doe",\n  "email": "john@example.com",\n  "password": "SecurePass123!"\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"\u9a57\u8b49\u898f\u5247",children:"\u9a57\u8b49\u898f\u5247"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"username"}),": 3-20 \u5b57\u5143\uff0c\u53ea\u80fd\u5305\u542b\u5b57\u6bcd\u3001\u6578\u5b57\u3001\u5e95\u7dda"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"email"}),": \u6709\u6548\u7684 email \u683c\u5f0f"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"password"}),": \u81f3\u5c11 8 \u5b57\u5143\uff0c\u5305\u542b\u5927\u5c0f\u5beb\u5b57\u6bcd\u548c\u6578\u5b57"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u6210\u529f\u56de\u61c9-201-created",children:"\u6210\u529f\u56de\u61c9 (201 Created)"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "id": "550e8400-e29b-41d4-a716-446655440000",\n    "username": "john_doe",\n    "email": "john@example.com",\n    "createdAt": "2025-12-02T08:38:42.000Z"\n  },\n  "message": "User registered successfully"\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"\u932f\u8aa4\u56de\u61c9",children:"\u932f\u8aa4\u56de\u61c9"}),"\n",(0,l.jsx)(n.h4,{id:"400-bad-request---\u9a57\u8b49\u5931\u6557",children:"400 Bad Request - \u9a57\u8b49\u5931\u6557"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "success": false,\n  "error": {\n    "code": "VALIDATION_ERROR",\n    "message": "Invalid input data",\n    "details": [\n      {\n        "field": "email",\n        "message": "Invalid email format"\n      }\n    ]\n  }\n}\n'})}),"\n",(0,l.jsx)(n.h4,{id:"409-conflict---\u7528\u6236\u5df2\u5b58\u5728",children:"409 Conflict - \u7528\u6236\u5df2\u5b58\u5728"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "success": false,\n  "error": {\n    "code": "USER_EXISTS",\n    "message": "Username or email already exists"\n  }\n}\n'})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"\u7528\u6236\u767b\u5165-api",children:"\u7528\u6236\u767b\u5165 API"}),"\n",(0,l.jsx)(n.h3,{id:"\u7aef\u9ede-1",children:"\u7aef\u9ede"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"POST /api/auth/login\n"})}),"\n",(0,l.jsx)(n.h3,{id:"\u8acb\u6c42\u4e3b\u9ad4-1",children:"\u8acb\u6c42\u4e3b\u9ad4"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "email": "john@example.com",\n  "password": "SecurePass123!"\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"\u6210\u529f\u56de\u61c9-200-ok",children:"\u6210\u529f\u56de\u61c9 (200 OK)"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",\n    "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",\n    "expiresIn": 900,\n    "user": {\n      "id": "550e8400-e29b-41d4-a716-446655440000",\n      "username": "john_doe",\n      "email": "john@example.com"\n    }\n  }\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"\u932f\u8aa4\u56de\u61c9-1",children:"\u932f\u8aa4\u56de\u61c9"}),"\n",(0,l.jsx)(n.h4,{id:"401-unauthorized---\u8a8d\u8b49\u5931\u6557",children:"401 Unauthorized - \u8a8d\u8b49\u5931\u6557"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "success": false,\n  "error": {\n    "code": "INVALID_CREDENTIALS",\n    "message": "Invalid email or password"\n  }\n}\n'})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"\u53d6\u5f97\u7528\u6236\u8cc7\u8a0a-api",children:"\u53d6\u5f97\u7528\u6236\u8cc7\u8a0a API"}),"\n",(0,l.jsx)(n.h3,{id:"\u7aef\u9ede-2",children:"\u7aef\u9ede"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"GET /api/users/:id\n"})}),"\n",(0,l.jsx)(n.h3,{id:"\u8acb\u6c42\u6a19\u982d-1",children:"\u8acb\u6c42\u6a19\u982d"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"Authorization: Bearer <access_token>\n"})}),"\n",(0,l.jsx)(n.h3,{id:"\u6210\u529f\u56de\u61c9-200-ok-1",children:"\u6210\u529f\u56de\u61c9 (200 OK)"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "id": "550e8400-e29b-41d4-a716-446655440000",\n    "username": "john_doe",\n    "email": "john@example.com",\n    "createdAt": "2025-12-02T08:38:42.000Z",\n    "updatedAt": "2025-12-02T08:38:42.000Z"\n  }\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"\u932f\u8aa4\u56de\u61c9-2",children:"\u932f\u8aa4\u56de\u61c9"}),"\n",(0,l.jsx)(n.h4,{id:"401-unauthorized---token-\u7121\u6548",children:"401 Unauthorized - Token \u7121\u6548"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "success": false,\n  "error": {\n    "code": "INVALID_TOKEN",\n    "message": "Invalid or expired token"\n  }\n}\n'})}),"\n",(0,l.jsx)(n.h4,{id:"404-not-found---\u7528\u6236\u4e0d\u5b58\u5728",children:"404 Not Found - \u7528\u6236\u4e0d\u5b58\u5728"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "success": false,\n  "error": {\n    "code": "USER_NOT_FOUND",\n    "message": "User not found"\n  }\n}\n'})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"\u932f\u8aa4\u78bc\u5c0d\u7167\u8868",children:"\u932f\u8aa4\u78bc\u5c0d\u7167\u8868"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"\u932f\u8aa4\u78bc"}),(0,l.jsx)(n.th,{children:"HTTP \u72c0\u614b"}),(0,l.jsx)(n.th,{children:"\u8aaa\u660e"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"VALIDATION_ERROR"}),(0,l.jsx)(n.td,{children:"400"}),(0,l.jsx)(n.td,{children:"\u8f38\u5165\u8cc7\u6599\u9a57\u8b49\u5931\u6557"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"USER_EXISTS"}),(0,l.jsx)(n.td,{children:"409"}),(0,l.jsx)(n.td,{children:"\u7528\u6236\u5df2\u5b58\u5728"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"INVALID_CREDENTIALS"}),(0,l.jsx)(n.td,{children:"401"}),(0,l.jsx)(n.td,{children:"\u8a8d\u8b49\u8cc7\u8a0a\u932f\u8aa4"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"INVALID_TOKEN"}),(0,l.jsx)(n.td,{children:"401"}),(0,l.jsx)(n.td,{children:"Token \u7121\u6548\u6216\u904e\u671f"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"USER_NOT_FOUND"}),(0,l.jsx)(n.td,{children:"404"}),(0,l.jsx)(n.td,{children:"\u7528\u6236\u4e0d\u5b58\u5728"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"FORBIDDEN"}),(0,l.jsx)(n.td,{children:"403"}),(0,l.jsx)(n.td,{children:"\u7121\u6b0a\u9650\u5b58\u53d6"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"INTERNAL_ERROR"}),(0,l.jsx)(n.td,{children:"500"}),(0,l.jsx)(n.td,{children:"\u4f3a\u670d\u5668\u5167\u90e8\u932f\u8aa4"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"RATE_LIMIT_EXCEEDED"}),(0,l.jsx)(n.td,{children:"429"}),(0,l.jsx)(n.td,{children:"\u8acb\u6c42\u983b\u7387\u8d85\u904e\u9650\u5236"})]})]})]})]})}function o(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(t,{...e})}):t(e)}}}]);